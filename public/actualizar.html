<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guarderia Oreo y Zoe - Tabla de Datos</title>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="tabla.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- Encabezado con Logo -->
    <header>
        <div class="container d-flex align-items-center py-3">
            <img src="images/logo.jpeg" alt="logo de la guarderia" class="logo">
            <h1 class="ml-3">Consulta de Datos Guardería Oreo y Zoe</h1>
        </div>
    </header>

    <!-- Barra de Navegación -->
    <nav>
        <ul>
            <li><a href="#gestion-datos" onclick="mostrarSeccion('gestion-datos')">Gestión de Datos</a></li>
            <li><a href="#tabla-datos" onclick="mostrarSeccion('tabla-datos'); cargarDatosTabla();">Revisar Tabla</a></li>
            <li><a href="index.html">Volver</a></li>
        </ul>
    </nav>

    <!-- Módulo Tabla de Datos -->
    <section id="tabla-datos" class="container-fluid my-5 seccion" style="display:none;">
        <div class="card mx-auto">
            <div class="card-body">
                <h2 class="card-title text-center mb-5">Tabla de Datos</h2>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Nombres y Apellidos</th>
                                <th>Teléfono</th>
                                <th>Correo Electrónico</th>
                                <th>Ciudad</th>
                                <th>Tipo de Mascota</th>
                                <th>Nombre del Peludito</th>
                                <th>Fecha Inicio</th>
                                <th>Fecha Fin</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="datos-tbody">
                            <!-- Aquí se llenarán los datos con JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Módulo de Gestión -->
    <section id="gestion-datos" class="container my-5 seccion">
        <div class="card mx-auto">
            <div class="card-body">
                <h2 class="card-title text-center mb-5">Gestión de Datos</h2>
                <form id="gestionForm" class="needs-validation" novalidate>
                    <input type="hidden" id="registro-id" name="registroId"> <!-- Campo oculto para el ID del registro -->
                    <div class="form-group">
                        <label for="telefono-gestion">Número de Teléfono:</label>
                        <input type="text" class="form-control" id="telefono-gestion" name="telefono" pattern="\d{10}" required>
                        <div class="invalid-feedback">Ingrese un número de teléfono válido (10 dígitos).</div>
                    </div>
                    <button type="button" class="btn btn-primary btn-block" onclick="buscarPorTelefono()">Buscar</button>
                    
                    <div id="datosAdicionales" style="display: none;">
                        <div class="form-group">
                            <label for="nombres-apellidos-gestion">Nombres y Apellidos:</label>
                            <input type="text" class="form-control" id="nombres-apellidos-gestion" name="nombresApellidos" pattern="[A-Za-z\s]+">
                        </div>
                        <div class="form-group">
                            <label for="correo-gestion">Correo Electrónico:</label>
                            <input type="email" class="form-control" id="correo-gestion" name="correo">
                        </div>
                        <div class="form-group">
                            <label for="ciudad-gestion">Ciudad:</label>
                            <input type="text" class="form-control" id="ciudad-gestion" name="ciudad" pattern="[A-Za-z\s]+">
                        </div>
                        <div class="form-group">
                            <label for="tipo-mascota-gestion">Tipo de Mascota:</label>
                            <select class="form-control" id="tipo-mascota-gestion" name="tipoMascota">
                                <option value="">Seleccione una opción</option>
                                <option value="perro">Perro</option>
                                <option value="gato">Gato</option>
                                <option value="otro">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nombre-peludito-gestion">Nombre del Peludito:</label>
                            <input type="text" class="form-control" id="nombre-peludito-gestion" name="nombrePeludito">
                        </div>
                        <div class="form-group">
                            <label for="fecha-inicio-gestion">Fecha de Inicio de Servicio:</label>
                            <input type="date" class="form-control" id="fecha-inicio-gestion" name="fechaInicio">
                        </div>
                        <div class="form-group">
                            <label for="fecha-fin-gestion">Fecha de Fin de Servicio:</label>
                            <input type="date" class="form-control" id="fecha-fin-gestion" name="fechaFin">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Actualizar</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Pie de página -->
    <footer class="text-center py-4">
        <p>&copy; Guardería Oreo y Zoe</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="tabla.js"></script>
    <script src="gestion.js"></script>
    <script>
        function mostrarSeccion(seccionId) {
            const secciones = document.querySelectorAll('.seccion');
            secciones.forEach(seccion => {
                seccion.style.display = 'none';
            });
            document.getElementById(seccionId).style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', function() {
            mostrarSeccion('gestion-datos');
        });
    </script>
</body>
</html>
